
<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Руслан & Крістіна</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
background:#000;
color:#fff;
font-family:'Playfair Display',serif;
overflow-x:hidden;
scroll-behavior:smooth;
}

canvas{
position:fixed;
top:0;
left:0;
z-index:-1;
}

/* ===== Envelope ===== */
#envelopeSection{
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
perspective:1000px;
}

.envelope{
width:260px;
height:180px;
position:relative;
cursor:pointer;
transform-style:preserve-3d;
transition:1s;
}

.flap{
position:absolute;
width:100%;
height:100%;
background:linear-gradient(145deg,#111,#222);
clip-path:polygon(0 0,100% 0,50% 60%);
transform-origin:top;
transition:1s;
border:1px solid #333;
}

.body{
position:absolute;
bottom:0;
width:100%;
height:100%;
background:linear-gradient(145deg,#111,#1a1a1a);
border:1px solid #333;
}

.envelope.open .flap{
transform:rotateX(-180deg);
}

#openText{
margin-top:20px;
color:gold;
font-size:18px;
}

/* ===== Music Section ===== */
#musicSection{
display:none;
text-align:center;
padding:60px 20px;
}

button{
background:linear-gradient(45deg,#c9a227,#ffd700);
border:none;
padding:12px 25px;
font-size:16px;
border-radius:30px;
cursor:pointer;
}

/* ===== Main ===== */
#mainContent{
opacity:0;
transition:2s;
padding:40px 20px;
text-align:center;
}

/* ===== Names (чіткі) ===== */
.names{
font-size:56px;
font-weight:800;
letter-spacing:2px;
background:linear-gradient(90deg,#ffd700,#fff6c4,#ffd700);
-webkit-background-clip:text;
color:transparent;
text-shadow:
0 0 4px rgba(255,215,0,0.9),
0 0 8px rgba(212,175,55,0.6);
}

/* ===== Guest Table ===== */
#guestList{
margin-top:30px;
max-width:800px;
margin-left:auto;
margin-right:auto;
overflow-x:auto;
}

#guestList h4{
color:gold;
margin-bottom:15px;
}

.guestTable{
width:100%;
border-collapse:collapse;
background:rgba(0,0,0,0.7);
border-radius:15px;
overflow:hidden;
}

.guestTable th{
background:linear-gradient(45deg,gold,#d4af37);
color:black;
padding:12px;
}

.guestTable td{
padding:12px;
text-align:center;
border-bottom:1px solid rgba(255,215,0,0.3);
}

.status-yes{color:lime;font-weight:bold;}
.status-no{color:red;font-weight:bold;}
.status-maybe{color:gold;font-weight:bold;}
</style>
</head>

<body>

<section id="envelopeSection">
<div class="envelope" onclick="openEnvelope()">
<div class="flap"></div>
<div class="body"></div>
</div>
<div id="openText">Натисни щоб відкрити</div>
</section>

<section id="musicSection">
<button onclick="startMusic()">Увімкнути музику</button>
</section>

<section id="mainContent">

<div class="names">Руслан</div>
<div class="names">&</div>
<div class="names">Крістіна</div>

<h3 style="margin-top:40px;">Підтвердження</h3>

<form onsubmit="saveGuest(event)">
<input type="text" id="name" placeholder="Фамілія сім'ї та Ім'я хто буде" required>
<select id="status">
<option>Буду</option>
<option>Дуже хочу бути, але не зможу</option>
<option>Не буду</option>
</select>
<button type="submit">Підтвердити</button>
</form>

<div id="guestList"></div>

</section>

<audio id="music" src="music.mp3"></audio>

<script>

const GOOGLE_SCRIPT_URL = "PASTE_YOUR_GOOGLE_SCRIPT_URL_HERE";

/* ===== Envelope ===== */
function openEnvelope(){
document.querySelector('.envelope').classList.add('open');
setTimeout(()=>{
document.getElementById('envelopeSection').style.display="none";
document.getElementById('musicSection').style.display="block";
},1000);
}

function startMusic(){
document.getElementById('music').play();
document.getElementById('mainContent').style.opacity=1;
}

/* ===== Save Guest ===== */
function saveGuest(e){
e.preventDefault();

const name=document.getElementById("name").value;
const status=document.getElementById("status").value;

let guests=JSON.parse(localStorage.getItem("guests"))||[];
guests.push({name,status});
localStorage.setItem("guests",JSON.stringify(guests));

/* Google Sheets */
fetch(GOOGLE_SCRIPT_URL,{
method:"POST",
body:JSON.stringify({name,status})
});

displayGuests();
alert("Дякуємо ❤️ До зустрічі 22 квітня 2026");
}

/* ===== Delete Guest ===== */
function deleteGuest(index){
let guests=JSON.parse(localStorage.getItem("guests"))||[];
guests.splice(index,1);
localStorage.setItem("guests",JSON.stringify(guests));
displayGuests();
}

/* ===== Display ===== */
function displayGuests(){
let guests=JSON.parse(localStorage.getItem("guests"))||[];
const list=document.getElementById("guestList");

if(guests.length===0){
list.innerHTML="<h4>Список гостей</h4><p>Поки що немає відповідей</p>";
return;
}

let table=`<h4>Список гостей</h4>
<table class="guestTable">
<thead>
<tr>
<th>№</th>
<th>Ім'я</th>
<th>Статус</th>
<th>❌</th>
</tr>
</thead>
<tbody>`;

guests.forEach((g,index)=>{
let statusClass="status-maybe";
if(g.status==="Буду") statusClass="status-yes";
if(g.status==="Не буду") statusClass="status-no";

table+=`
<tr>
<td>${index+1}</td>
<td>${g.name}</td>
<td class="${statusClass}">${g.status}</td>
<td><button onclick="deleteGuest(${index})">Видалити</button></td>
</tr>`;
});

table+=`</tbody></table>`;
list.innerHTML=table;
}

displayGuests();

</script>

</body>
</html>
